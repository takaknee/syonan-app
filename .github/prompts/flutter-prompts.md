# GitHub Copilot用Flutter開発プロンプト

## 効果的なプロンプト作成の原則
1. **具体的で明確な要件を記述**
2. **コンテキスト情報を十分に提供**
3. **期待される出力の例を示す**
4. **制約事項や制限を明記**
5. **子供向けアプリの特性を考慮**

## ウィジェット作成プロンプト

### 基本ウィジェット
```dart
// TODO: 子供向けの[機能名]ウィジェットを作成
// 要件:
// - [具体的な機能リスト]
// - 3歳以上の子供が使いやすいUI
// - アクセシビリティ対応（VoiceOver/TalkBack）
// - Material Design 3準拠
// 制約:
// - 最小タッチターゲット44px以上
// - 高コントラスト対応
// - エラー状態の適切な表示
// パフォーマンス:
// - 60FPS維持
// - メモリ効率的な実装
// セキュリティ:
// - 子供のプライバシー保護
// - 安全なデータ処理
```

### レスポンシブウィジェット
```dart
// TODO: [機能名]のレスポンシブウィジェットを作成
// 対応デバイス:
// - スマートフォン（縦向き・横向き）
// - タブレット（縦向き・横向き）
// - フォルダブルデバイス
// ブレークポイント:
// - 小: <600px
// - 中: 600-840px
// - 大: >840px
// 適応的レイアウト:
// - ナビゲーション方式の変更
// - コンテンツ密度の調整
// - タッチターゲットサイズの最適化
```

### 画面作成
```dart
// TODO: [機能名]用の新しい画面を作成
// 画面構成:
// - AppBar: "[画面タイトル]"
// - メインコンテンツ: [詳細な説明]
// - ナビゲーション: [他の画面との関係]
// - フローティングアクションボタン: [必要な場合]
// 状態管理:
// - ローカル状態: [StatefulWidget/useState]
// - グローバル状態: [Provider/Riverpod/Bloc]
// アクセシビリティ:
// - 画面読み上げ対応
// - キーボードナビゲーション
// - 適切なセマンティクス
// 子供向け配慮:
// - 分かりやすいアイコンとラベル
// - 大きめのボタンサイズ
// - 親しみやすい色使い
```

### セキュアフォーム作成
```dart
// TODO: 子供向けの安全な[フォーム名]フォームを作成
// フィールド構成:
// - [フィールド1]: [バリデーションルール]
// - [フィールド2]: [バリデーションルール]
// - [フィールド3]: [バリデーションルール]
// セキュリティ対策:
// - 個人情報の最小限収集
// - データ暗号化
// - COPPA準拠
// バリデーション:
// - リアルタイム検証
// - 子供にも分かりやすいエラーメッセージ
// - 日本語での入力サポート
// 送信処理:
// - [具体的な送信ロジック]
// - エラーハンドリング
// - ローディング状態の表示
// - 成功・失敗フィードバック
```

## 状態管理プロンプト

### Riverpod状態セットアップ
```dart
// TODO: [機能名]のRiverpod状態管理をセットアップ
// 状態の構造:
// - データ: [具体的なデータ型と構造]
// - ローディング状態: bool
// - エラー状態: String?
// - キャッシュ: [キャッシュ戦略]
// プロバイダー構成:
// - [データプロバイダー名]: [責任と役割]
// - [サービスプロバイダー名]: [API接続とビジネスロジック]
// - [UIプロバイダー名]: [UI状態の管理]
// アクション:
// - [アクション1]: [具体的な処理内容]
// - [アクション2]: [具体的な処理内容]
// - [アクション3]: [具体的な処理内容]
// エラーハンドリング:
// - ネットワークエラー
// - バリデーションエラー
// - 予期しないエラー
// パフォーマンス最適化:
// - 適切なプロバイダーの粒度
// - 必要最小限の再構築
// - メモ化の活用
```

### 複雑な状態遷移
```dart
// TODO: [機能名]の状態遷移を管理するNotifierを作成
// 状態遷移図:
// 初期状態 → ローディング → 成功/失敗
// 成功 → 編集モード → 保存中 → 保存完了/エラー
// 失敗 → 再試行 → ローディング
// 状態の種類:
// - 初期化（初回読み込み前）
// - ローディング（データ取得中）
// - 成功（データ表示中）
// - 編集中（ユーザー入力中）
// - 保存中（データ送信中）
// - エラー（エラー表示中）
// - 再試行中（リトライ処理中）
// 副作用の処理:
// - API呼び出し
// - ローカルストレージ
// - ナビゲーション
// - 通知表示
```

## API統合プロンプト

### セキュアAPIサービス作成
```dart
// TODO: 子供向けアプリのためのセキュアな[API名]サービスを作成
// API仕様:
// - ベースURL: [URL]
// - 認証方式: [JWT/OAuth/APIキー]
// - タイムアウト: 10秒
// - リトライ回数: 3回
// エンドポイント設計:
// - GET /safe-content: [安全なコンテンツ取得]
// - POST /report: [不適切コンテンツ報告]
// - GET /child-profile: [子供のプロフィール]
// セキュリティ要件:
// - すべてのリクエストでHTTPS使用
// - APIキーの安全な管理
// - レスポンスデータの検証
// - 個人情報の暗号化
// エラーハンドリング:
// - ネットワーク接続エラー
// - タイムアウトエラー
// - 認証エラー
// - サーバーエラー（5xx）
// - クライアントエラー（4xx）
// レスポンス型:
// - 成功: [具体的なデータ構造]
// - エラー: [エラー情報の構造]
// データ変換:
// - JSON → Dartオブジェクト
// - エラーレスポンス → ユーザーフレンドリーメッセージ
```

### オフライン対応API
```dart
// TODO: オフライン機能付きの[API名]クライアントを実装
// オンライン動作:
// - リアルタイムデータ取得
// - 自動同期
// - コンフリクト解決
// オフライン動作:
// - ローカルキャッシュからの読み取り
// - オフライン操作のキューイング
// - 接続復旧時の自動同期
// キャッシュ戦略:
// - 最終更新時刻ベースの無効化
// - LRU（Least Recently Used）キャッシュ
// - 重要度別の保存期間
// 同期処理:
// - 差分同期
// - コンフリクト検出と解決
// - 同期状態のUI表示
// データ整合性:
// - トランザクション処理
// - ロールバック機能
// - データ検証
```

## テストプロンプト

### 包括的ユニットテスト
```dart
// TODO: [クラス/関数名]の包括的なユニットテストを作成
// テスト対象の責任:
// - [責任1]: [期待される動作]
// - [責任2]: [期待される動作]
// - [責任3]: [期待される動作]
// テストケース設計:
// 正常系:
// - [シナリオ1]: [入力] → [期待される出力]
// - [シナリオ2]: [入力] → [期待される出力]
// 異常系:
// - [エラーケース1]: [入力] → [期待されるエラー]
// - [エラーケース2]: [入力] → [期待されるエラー]
// 境界値テスト:
// - 最小値: [具体的な値]
// - 最大値: [具体的な値]
// - null/空値: [期待される動作]
// モック対象:
// - [依存関係1]: [モック方法と理由]
// - [依存関係2]: [モック方法と理由]
// テストデータ:
// - [テストデータセット]: [データの説明]
// アサーション:
// - 戻り値の検証
// - 副作用の検証
// - 状態変化の検証
// - エラー処理の検証
```

### 子供向けUIウィジェットテスト
```dart
// TODO: [ウィジェット名]の子供向けUIテストを作成
// アクセシビリティテスト:
// - セマンティクスラベルの存在確認
// - 音声読み上げ対応の検証
// - キーボードナビゲーション確認
// - 十分なタッチターゲットサイズ（44px以上）
// - 適切な色コントラスト比（4.5:1以上）
// ユーザーインタラクションテスト:
// - [インタラクション1]: [期待される結果]
// - [インタラクション2]: [期待される結果]
// - [インタラクション3]: [期待される結果]
// 状態変化テスト:
// - 初期状態: [表示内容の確認]
// - ローディング状態: [ローディングUIの確認]
// - 成功状態: [成功時UIの確認]
// - エラー状態: [エラーUIの確認]
// レスポンシブテスト:
// - 小画面（スマートフォン縦）
// - 中画面（スマートフォン横）
// - 大画面（タブレット）
// パフォーマンステスト:
// - レンダリング時間の測定
// - メモリ使用量の確認
// - フレームレート（60FPS）維持
// セキュリティテスト:
// - 個人情報の非表示確認
// - 安全でないコンテンツのフィルタリング
```

### 統合テスト
```dart
// TODO: [機能名]のエンドツーエンド統合テストを作成
// ユーザーシナリオ:
// 1. [ステップ1]: [ユーザーアクション] → [期待される画面遷移]
// 2. [ステップ2]: [ユーザーアクション] → [期待される画面遷移]
// 3. [ステップ3]: [ユーザーアクション] → [期待される結果]
// テスト環境:
// - デバイス: [対象デバイス一覧]
// - OSバージョン: [対象OS一覧]
// - ネットワーク状態: [オンライン/オフライン]
// データ準備:
// - テストユーザーの作成
// - テストコンテンツの準備
// - データベースの初期化
// 検証ポイント:
// - UI要素の表示確認
// - データの正確性検証
// - パフォーマンス測定
// - エラーハンドリング確認
// クリーンアップ:
// - テストデータの削除
// - 状態のリセット
// - リソースの解放
```

## 共通機能プロンプト

### 子供向け安全ナビゲーション
```dart
// TODO: 子供向けの安全なナビゲーションシステムを実装
// ナビゲーション設計:
// - [ソース画面] → [ターゲット画面]
// - パラメータ: [安全にエンコードされたデータ]
// - 戻るナビゲーション: [親しみやすい戻るボタン]
// - 遷移アニメーション: [子供向けの楽しいアニメーション]
// セキュリティ考慮:
// - ディープリンクの検証
// - 不正な画面遷移の防止
// - セッション管理
// アクセシビリティ:
// - 画面読み上げでの適切な通知
// - キーボードナビゲーション対応
// - ナビゲーション履歴の音声説明
// 親への通知:
// - 重要な画面遷移時の保護者通知
// - アプリ使用状況の記録
```

### インタラクティブデータ表示
```dart
// TODO: 子供向けのインタラクティブな[データ型]表示リストを作成
// データ表示機能:
// - [データ項目1]: [表示方法と内容]
// - [データ項目2]: [表示方法と内容]
// - [データ項目3]: [表示方法と内容]
// インタラクション:
// - 検索: [子供にも分かりやすい検索UI]
// - フィルター: [直感的なフィルターオプション]
// - ソート: [シンプルなソート機能]
// - お気に入り: [ハート型ボタンなど親しみやすいUI]
// 状態管理:
// - 空の状態: [楽しいイラストとメッセージ]
// - ローディング状態: [子供向けのローディングアニメーション]
// - エラー状態: [優しいエラーメッセージと解決提案]
// パフォーマンス:
// - 仮想スクロール（1000件以上の場合）
// - 画像の遅延読み込み
// - スムーズなスクロール体験
// 操作性:
// - プルリフレッシュ（楽しいアニメーション付き）
// - 無限スクロール
// - スワイプアクション（削除、お気に入り等）
```

### 安全なユーザー入力システム
```dart
// TODO: 子供向けの安全な[入力タイプ]入力システムを作成
// 入力フィールド設計:
// - フィールド種類: [テキスト/数値/選択/音声]
// - プレースホルダー: [子供向けの親しみやすいヒント]
// - 入力支援: [予測変換/音声入力/絵文字サポート]
// バリデーション:
// - リアルタイム検証: [即座のフィードバック]
// - エラーメッセージ: [子供向けの優しい説明]
// - 成功フィードバック: [褒めるメッセージとアニメーション]
// セキュリティ:
// - 個人情報の入力制限
// - 不適切な言葉のフィルタリング
// - 入力データの暗号化
// アクセシビリティ:
// - 音声読み上げ対応のラベル
// - 大きめの入力フィールド
// - 十分なコントラスト
// - キーボードショートカット
// ユーザビリティ:
// - 入力進捗の表示
// - 自動保存機能
// - 入力取り消し機能
// - ヘルプとガイド表示
```

## パフォーマンス最適化プロンプト

### メモリ効率的な実装
```dart
// TODO: [機能名]のメモリ効率的な実装を作成
// メモリ最適化戦略:
// - オブジェクトプールの使用
// - 適切なウィジェットライフサイクル管理
// - 画像キャッシュの最適化
// - 不要なリスナーの削除
// パフォーマンス目標:
// - メモリ使用量: [目標値]MB以下
// - 起動時間: [目標値]秒以下
// - フレームレート: 60FPS維持
// - バッテリー消費: [目標効率]
// 監視ポイント:
// - メモリリークの検出
// - CPU使用率の監視
// - ガベージコレクション頻度
// - レンダリング時間
// 最適化手法:
// - const constructorの徹底使用
// - setState()の最小化
// - build()メソッドの軽量化
// - 重い処理の非同期実行
```

### 大量データ処理
```dart
// TODO: 大量の[データ型]を効率的に処理するシステムを実装
// データ量: [予想データ量]
// 処理要件:
// - [処理内容1]: [パフォーマンス要件]
// - [処理内容2]: [パフォーマンス要件]
// - [処理内容3]: [パフォーマンス要件]
// 最適化戦略:
// - ページング: [1ページあたりの件数]
// - 仮想化: [可視領域のみレンダリング]
// - 遅延読み込み: [必要時にのみデータ取得]
// - キャッシュ: [適切なキャッシュ戦略]
// データ構造:
// - インデックス作成
// - 効率的なソート・検索アルゴリズム
// - メモリ効率的なデータ格納
// UI応答性:
// - 非同期処理での UI更新
// - プログレスインジケーター
// - ユーザーキャンセル機能
```
